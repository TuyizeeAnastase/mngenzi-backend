"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports["default"] = void 0;
var _cart = _interopRequireDefault(require("../controllers/cart.controleer"));
var _express = _interopRequireDefault(require("express"));
var _cart2 = require("../validations/cart.validations");
var _cart3 = require("../middleware/cart.middleware");
var _protect = require("../middleware/protect.middleware");
function _interopRequireDefault(e) { return e && e.__esModule ? e : { "default": e }; }
var router = (0, _express["default"])();
router.route('/').get(_protect.protect, (0, _protect.restrictTo)('admin'), _cart["default"].getCarts);
router.route('/user').get(_protect.protect, (0, _protect.restrictTo)('customer'), _cart3.checkCartExist, _cart["default"].getCartByUser);
router.route('/:id').patch(_protect.protect, (0, _protect.restrictTo)('customer'), _cart3.checkCartExistById, _cart2.quantityValidation, _cart["default"].updateCartQuantity)["delete"](_protect.protect, (0, _protect.restrictTo)('customer'), _cart3.checkCartExistById, _cart["default"].cartDeleting);
router.post('/', _protect.protect, (0, _protect.restrictTo)('customer'), _cart2.cartValidations, _cart3.checProductExist, _cart3.checkCartExistByUser, _cart["default"].addToCart);
var _default = exports["default"] = router;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfY2FydCIsIl9pbnRlcm9wUmVxdWlyZURlZmF1bHQiLCJyZXF1aXJlIiwiX2V4cHJlc3MiLCJfY2FydDIiLCJfY2FydDMiLCJfcHJvdGVjdCIsImUiLCJfX2VzTW9kdWxlIiwicm91dGVyIiwiZXhwcmVzcyIsInJvdXRlIiwiZ2V0IiwicHJvdGVjdCIsInJlc3RyaWN0VG8iLCJjYXJ0Q29udHJvbGxlciIsImdldENhcnRzIiwiY2hlY2tDYXJ0RXhpc3QiLCJnZXRDYXJ0QnlVc2VyIiwicGF0Y2giLCJjaGVja0NhcnRFeGlzdEJ5SWQiLCJxdWFudGl0eVZhbGlkYXRpb24iLCJ1cGRhdGVDYXJ0UXVhbnRpdHkiLCJjYXJ0RGVsZXRpbmciLCJwb3N0IiwiY2FydFZhbGlkYXRpb25zIiwiY2hlY1Byb2R1Y3RFeGlzdCIsImNoZWNrQ2FydEV4aXN0QnlVc2VyIiwiYWRkVG9DYXJ0IiwiX2RlZmF1bHQiLCJleHBvcnRzIl0sInNvdXJjZXMiOlsiLi4vLi4vc3JjL3JvdXRlcnMvY2FydC5yb3V0ZXJzLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBjYXJ0Q29udHJvbGxlciBmcm9tIFwiLi4vY29udHJvbGxlcnMvY2FydC5jb250cm9sZWVyXCI7XHJcbmltcG9ydCBleHByZXNzIGZyb20gJ2V4cHJlc3MnXHJcbmltcG9ydCB7IGNhcnRWYWxpZGF0aW9ucyxxdWFudGl0eVZhbGlkYXRpb24gfSBmcm9tIFwiLi4vdmFsaWRhdGlvbnMvY2FydC52YWxpZGF0aW9uc1wiO1xyXG5pbXBvcnQgeyBjaGVjUHJvZHVjdEV4aXN0LGNoZWNrQ2FydEV4aXN0QnlVc2VyLGNoZWNrQ2FydEV4aXN0LGNoZWNrQ2FydEV4aXN0QnlJZCB9IGZyb20gXCIuLi9taWRkbGV3YXJlL2NhcnQubWlkZGxld2FyZVwiO1xyXG5pbXBvcnQgeyBwcm90ZWN0LHJlc3RyaWN0VG8gfSBmcm9tIFwiLi4vbWlkZGxld2FyZS9wcm90ZWN0Lm1pZGRsZXdhcmVcIjtcclxuXHJcbmNvbnN0IHJvdXRlcj1leHByZXNzKClcclxuXHJcbnJvdXRlclxyXG4ucm91dGUoJy8nKVxyXG4uZ2V0KHByb3RlY3QscmVzdHJpY3RUbygnYWRtaW4nKSxjYXJ0Q29udHJvbGxlci5nZXRDYXJ0cylcclxuXHJcbnJvdXRlclxyXG4ucm91dGUoJy91c2VyJylcclxuLmdldChwcm90ZWN0LHJlc3RyaWN0VG8oJ2N1c3RvbWVyJyksY2hlY2tDYXJ0RXhpc3QsY2FydENvbnRyb2xsZXIuZ2V0Q2FydEJ5VXNlcilcclxuXHJcbnJvdXRlclxyXG4ucm91dGUoJy86aWQnKVxyXG4ucGF0Y2gocHJvdGVjdCxyZXN0cmljdFRvKCdjdXN0b21lcicpLGNoZWNrQ2FydEV4aXN0QnlJZCxxdWFudGl0eVZhbGlkYXRpb24sY2FydENvbnRyb2xsZXIudXBkYXRlQ2FydFF1YW50aXR5KVxyXG4uZGVsZXRlKHByb3RlY3QscmVzdHJpY3RUbygnY3VzdG9tZXInKSxjaGVja0NhcnRFeGlzdEJ5SWQsY2FydENvbnRyb2xsZXIuY2FydERlbGV0aW5nKVxyXG5cclxucm91dGVyLnBvc3QoJy8nLHByb3RlY3QscmVzdHJpY3RUbygnY3VzdG9tZXInKSxjYXJ0VmFsaWRhdGlvbnMsY2hlY1Byb2R1Y3RFeGlzdCxjaGVja0NhcnRFeGlzdEJ5VXNlcixjYXJ0Q29udHJvbGxlci5hZGRUb0NhcnQpXHJcblxyXG5leHBvcnQgZGVmYXVsdCByb3V0ZXIiXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFBLElBQUFBLEtBQUEsR0FBQUMsc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFDLFFBQUEsR0FBQUYsc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFFLE1BQUEsR0FBQUYsT0FBQTtBQUNBLElBQUFHLE1BQUEsR0FBQUgsT0FBQTtBQUNBLElBQUFJLFFBQUEsR0FBQUosT0FBQTtBQUFzRSxTQUFBRCx1QkFBQU0sQ0FBQSxXQUFBQSxDQUFBLElBQUFBLENBQUEsQ0FBQUMsVUFBQSxHQUFBRCxDQUFBLGdCQUFBQSxDQUFBO0FBRXRFLElBQU1FLE1BQU0sR0FBQyxJQUFBQyxtQkFBTyxFQUFDLENBQUM7QUFFdEJELE1BQU0sQ0FDTEUsS0FBSyxDQUFDLEdBQUcsQ0FBQyxDQUNWQyxHQUFHLENBQUNDLGdCQUFPLEVBQUMsSUFBQUMsbUJBQVUsRUFBQyxPQUFPLENBQUMsRUFBQ0MsZ0JBQWMsQ0FBQ0MsUUFBUSxDQUFDO0FBRXpEUCxNQUFNLENBQ0xFLEtBQUssQ0FBQyxPQUFPLENBQUMsQ0FDZEMsR0FBRyxDQUFDQyxnQkFBTyxFQUFDLElBQUFDLG1CQUFVLEVBQUMsVUFBVSxDQUFDLEVBQUNHLHFCQUFjLEVBQUNGLGdCQUFjLENBQUNHLGFBQWEsQ0FBQztBQUVoRlQsTUFBTSxDQUNMRSxLQUFLLENBQUMsTUFBTSxDQUFDLENBQ2JRLEtBQUssQ0FBQ04sZ0JBQU8sRUFBQyxJQUFBQyxtQkFBVSxFQUFDLFVBQVUsQ0FBQyxFQUFDTSx5QkFBa0IsRUFBQ0MseUJBQWtCLEVBQUNOLGdCQUFjLENBQUNPLGtCQUFrQixDQUFDLFVBQ3ZHLENBQUNULGdCQUFPLEVBQUMsSUFBQUMsbUJBQVUsRUFBQyxVQUFVLENBQUMsRUFBQ00seUJBQWtCLEVBQUNMLGdCQUFjLENBQUNRLFlBQVksQ0FBQztBQUV0RmQsTUFBTSxDQUFDZSxJQUFJLENBQUMsR0FBRyxFQUFDWCxnQkFBTyxFQUFDLElBQUFDLG1CQUFVLEVBQUMsVUFBVSxDQUFDLEVBQUNXLHNCQUFlLEVBQUNDLHVCQUFnQixFQUFDQywyQkFBb0IsRUFBQ1osZ0JBQWMsQ0FBQ2EsU0FBUyxDQUFDO0FBQUEsSUFBQUMsUUFBQSxHQUFBQyxPQUFBLGNBRS9HckIsTUFBTSIsImlnbm9yZUxpc3QiOltdfQ==