"use strict";

module.exports = function (sequelize, DataTypes) {
  var User = sequelize.define('User', {
    name: DataTypes.STRING,
    email: DataTypes.STRING,
    password: DataTypes.STRING,
    role_id: DataTypes.INTEGER
  }, {});
  User.associate = function (models) {
    User.belongsTo(models.Role, {
      foreignKey: 'role_id',
      as: 'role',
      onDelete: 'CASCADE'
    });
    User.hasOne(models.Cart, {
      foreignKey: 'user_id',
      as: 'user',
      onDelete: 'CASCADE'
    });
    User.hasMany(models.Cart, {
      foreignKey: 'user_id',
      as: 'user_orders',
      onDelete: 'CASCADE'
    });
  };
  return User;
};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJtb2R1bGUiLCJleHBvcnRzIiwic2VxdWVsaXplIiwiRGF0YVR5cGVzIiwiVXNlciIsImRlZmluZSIsIm5hbWUiLCJTVFJJTkciLCJlbWFpbCIsInBhc3N3b3JkIiwicm9sZV9pZCIsIklOVEVHRVIiLCJhc3NvY2lhdGUiLCJtb2RlbHMiLCJiZWxvbmdzVG8iLCJSb2xlIiwiZm9yZWlnbktleSIsImFzIiwib25EZWxldGUiLCJoYXNPbmUiLCJDYXJ0IiwiaGFzTWFueSJdLCJzb3VyY2VzIjpbIi4uLy4uLy4uL3NyYy9kYXRhYmFzZS9tb2RlbHMvdXNlci5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJtb2R1bGUuZXhwb3J0cyA9IChzZXF1ZWxpemUsIERhdGFUeXBlcykgPT4ge1xuICBjb25zdCBVc2VyPXNlcXVlbGl6ZS5kZWZpbmUoXG4gICAgJ1VzZXInLFxuICAgIHtcbiAgICBuYW1lOiBEYXRhVHlwZXMuU1RSSU5HLFxuICAgIGVtYWlsOiBEYXRhVHlwZXMuU1RSSU5HLFxuICAgIHBhc3N3b3JkOiBEYXRhVHlwZXMuU1RSSU5HLFxuICAgIHJvbGVfaWQ6RGF0YVR5cGVzLklOVEVHRVJcbiAgfSwge30pO1xuICBVc2VyLmFzc29jaWF0ZT1mdW5jdGlvbihtb2RlbHMpe1xuICAgIFVzZXIuYmVsb25nc1RvKG1vZGVscy5Sb2xlLHtcbiAgICAgIGZvcmVpZ25LZXk6J3JvbGVfaWQnLFxuICAgICAgYXM6J3JvbGUnLFxuICAgICAgb25EZWxldGU6J0NBU0NBREUnXG4gICAgfSk7XG4gICAgVXNlci5oYXNPbmUobW9kZWxzLkNhcnQse1xuICAgICAgZm9yZWlnbktleTondXNlcl9pZCcsXG4gICAgICBhczondXNlcicsXG4gICAgICBvbkRlbGV0ZTonQ0FTQ0FERSdcbiAgICB9KTtcbiAgICBVc2VyLmhhc01hbnkobW9kZWxzLkNhcnQse1xuICAgICAgZm9yZWlnbktleTondXNlcl9pZCcsXG4gICAgICBhczondXNlcl9vcmRlcnMnLFxuICAgICAgb25EZWxldGU6J0NBU0NBREUnXG4gICAgfSlcbiAgfVxuICByZXR1cm4gVXNlcjtcbn07Il0sIm1hcHBpbmdzIjoiOztBQUFBQSxNQUFNLENBQUNDLE9BQU8sR0FBRyxVQUFDQyxTQUFTLEVBQUVDLFNBQVMsRUFBSztFQUN6QyxJQUFNQyxJQUFJLEdBQUNGLFNBQVMsQ0FBQ0csTUFBTSxDQUN6QixNQUFNLEVBQ047SUFDQUMsSUFBSSxFQUFFSCxTQUFTLENBQUNJLE1BQU07SUFDdEJDLEtBQUssRUFBRUwsU0FBUyxDQUFDSSxNQUFNO0lBQ3ZCRSxRQUFRLEVBQUVOLFNBQVMsQ0FBQ0ksTUFBTTtJQUMxQkcsT0FBTyxFQUFDUCxTQUFTLENBQUNRO0VBQ3BCLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQztFQUNOUCxJQUFJLENBQUNRLFNBQVMsR0FBQyxVQUFTQyxNQUFNLEVBQUM7SUFDN0JULElBQUksQ0FBQ1UsU0FBUyxDQUFDRCxNQUFNLENBQUNFLElBQUksRUFBQztNQUN6QkMsVUFBVSxFQUFDLFNBQVM7TUFDcEJDLEVBQUUsRUFBQyxNQUFNO01BQ1RDLFFBQVEsRUFBQztJQUNYLENBQUMsQ0FBQztJQUNGZCxJQUFJLENBQUNlLE1BQU0sQ0FBQ04sTUFBTSxDQUFDTyxJQUFJLEVBQUM7TUFDdEJKLFVBQVUsRUFBQyxTQUFTO01BQ3BCQyxFQUFFLEVBQUMsTUFBTTtNQUNUQyxRQUFRLEVBQUM7SUFDWCxDQUFDLENBQUM7SUFDRmQsSUFBSSxDQUFDaUIsT0FBTyxDQUFDUixNQUFNLENBQUNPLElBQUksRUFBQztNQUN2QkosVUFBVSxFQUFDLFNBQVM7TUFDcEJDLEVBQUUsRUFBQyxhQUFhO01BQ2hCQyxRQUFRLEVBQUM7SUFDWCxDQUFDLENBQUM7RUFDSixDQUFDO0VBQ0QsT0FBT2QsSUFBSTtBQUNiLENBQUMiLCJpZ25vcmVMaXN0IjpbXX0=