"use strict";

module.exports = function (sequelize, DataTypes) {
  var Order = sequelize.define('Order', {
    user_id: DataTypes.INTEGER,
    total_price: DataTypes.INTEGER,
    order_reference: DataTypes.STRING,
    paid: DataTypes.BOOLEAN,
    invoice: DataTypes.STRING
  }, {});
  Order.associate = function (models) {
    Order.hasMany(models.Item, {
      foreignKey: 'order_id',
      as: 'items',
      onDelete: 'CASCADE'
    });
    Order.belongsTo(models.User, {
      foreignKey: 'user_id',
      as: 'user_orders',
      onDelete: 'CASCADE'
    });
  };
  return Order;
};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJtb2R1bGUiLCJleHBvcnRzIiwic2VxdWVsaXplIiwiRGF0YVR5cGVzIiwiT3JkZXIiLCJkZWZpbmUiLCJ1c2VyX2lkIiwiSU5URUdFUiIsInRvdGFsX3ByaWNlIiwib3JkZXJfcmVmZXJlbmNlIiwiU1RSSU5HIiwicGFpZCIsIkJPT0xFQU4iLCJpbnZvaWNlIiwiYXNzb2NpYXRlIiwibW9kZWxzIiwiaGFzTWFueSIsIkl0ZW0iLCJmb3JlaWduS2V5IiwiYXMiLCJvbkRlbGV0ZSIsImJlbG9uZ3NUbyIsIlVzZXIiXSwic291cmNlcyI6WyIuLi8uLi8uLi9zcmMvZGF0YWJhc2UvbW9kZWxzL29yZGVyLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIm1vZHVsZS5leHBvcnRzID0gKHNlcXVlbGl6ZSwgRGF0YVR5cGVzKSA9PiB7XG4gIGNvbnN0IE9yZGVyPXNlcXVlbGl6ZS5kZWZpbmUoXG4gICAgJ09yZGVyJyxcbiAgICB7XG4gICAgdXNlcl9pZDogRGF0YVR5cGVzLklOVEVHRVIsXG4gICAgdG90YWxfcHJpY2U6IERhdGFUeXBlcy5JTlRFR0VSLFxuICAgIG9yZGVyX3JlZmVyZW5jZTogRGF0YVR5cGVzLlNUUklORyxcbiAgICBwYWlkOiBEYXRhVHlwZXMuQk9PTEVBTixcbiAgICBpbnZvaWNlOiBEYXRhVHlwZXMuU1RSSU5HXG4gIH0sIHt9KTtcbiAgT3JkZXIuYXNzb2NpYXRlPWZ1bmN0aW9uKG1vZGVscyl7XG4gICAgT3JkZXIuaGFzTWFueShtb2RlbHMuSXRlbSx7XG4gICAgICBmb3JlaWduS2V5OidvcmRlcl9pZCcsXG4gICAgICBhczonaXRlbXMnLFxuICAgICAgb25EZWxldGU6J0NBU0NBREUnXG4gICAgfSk7XG4gICAgT3JkZXIuYmVsb25nc1RvKG1vZGVscy5Vc2VyLHtcbiAgICAgIGZvcmVpZ25LZXk6J3VzZXJfaWQnLFxuICAgICAgYXM6J3VzZXJfb3JkZXJzJyxcbiAgICAgIG9uRGVsZXRlOidDQVNDQURFJ1xuICAgIH0pO1xuICB9XG4gIHJldHVybiBPcmRlcjtcbn07Il0sIm1hcHBpbmdzIjoiOztBQUFBQSxNQUFNLENBQUNDLE9BQU8sR0FBRyxVQUFDQyxTQUFTLEVBQUVDLFNBQVMsRUFBSztFQUN6QyxJQUFNQyxLQUFLLEdBQUNGLFNBQVMsQ0FBQ0csTUFBTSxDQUMxQixPQUFPLEVBQ1A7SUFDQUMsT0FBTyxFQUFFSCxTQUFTLENBQUNJLE9BQU87SUFDMUJDLFdBQVcsRUFBRUwsU0FBUyxDQUFDSSxPQUFPO0lBQzlCRSxlQUFlLEVBQUVOLFNBQVMsQ0FBQ08sTUFBTTtJQUNqQ0MsSUFBSSxFQUFFUixTQUFTLENBQUNTLE9BQU87SUFDdkJDLE9BQU8sRUFBRVYsU0FBUyxDQUFDTztFQUNyQixDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUM7RUFDTk4sS0FBSyxDQUFDVSxTQUFTLEdBQUMsVUFBU0MsTUFBTSxFQUFDO0lBQzlCWCxLQUFLLENBQUNZLE9BQU8sQ0FBQ0QsTUFBTSxDQUFDRSxJQUFJLEVBQUM7TUFDeEJDLFVBQVUsRUFBQyxVQUFVO01BQ3JCQyxFQUFFLEVBQUMsT0FBTztNQUNWQyxRQUFRLEVBQUM7SUFDWCxDQUFDLENBQUM7SUFDRmhCLEtBQUssQ0FBQ2lCLFNBQVMsQ0FBQ04sTUFBTSxDQUFDTyxJQUFJLEVBQUM7TUFDMUJKLFVBQVUsRUFBQyxTQUFTO01BQ3BCQyxFQUFFLEVBQUMsYUFBYTtNQUNoQkMsUUFBUSxFQUFDO0lBQ1gsQ0FBQyxDQUFDO0VBQ0osQ0FBQztFQUNELE9BQU9oQixLQUFLO0FBQ2QsQ0FBQyIsImlnbm9yZUxpc3QiOltdfQ==